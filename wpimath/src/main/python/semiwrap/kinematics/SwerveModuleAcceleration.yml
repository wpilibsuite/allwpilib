extra_includes:
- wpystruct.h

classes:
  wpi::math::SwerveModuleAcceleration:
    force_no_default_constructor: true
    force_type_casters:
    - wpi::units::meters_per_second_squared
    attributes:
      acceleration:
      angle:
    methods:
      operator==:
      operator+:
      operator-:
        overloads:
          const SwerveModuleAcceleration& [const]:
          '[const]':
      operator*:
      operator/:

inline_code: |
  cls_SwerveModuleAcceleration
    .def(
      py::init<
        wpi::units::meters_per_second_squared_t, wpi::math::Rotation2d
      >(),
      py::arg("acceleration") = 0, py::arg("angle") = wpi::math::Rotation2d()
    )
    .def_static("fromFpsSq", [](wpi::units::feet_per_second_squared_t acceleration, wpi::math::Rotation2d angle){
      return SwerveModuleAcceleration{acceleration, angle};
    }, py::arg("acceleration") = 0, py::arg("angle") = wpi::math::Rotation2d())
    .def_property("acceleration_fpss",
      [](SwerveModuleAcceleration * self) -> wpi::units::feet_per_second_squared_t {
        return self->acceleration;
      },
      [](SwerveModuleAcceleration * self, wpi::units::feet_per_second_squared_t acceleration) {
        self->acceleration = acceleration;
      }
    )
    .def("__repr__", [](const SwerveModuleAcceleration &sma) -> std::string {
      return "SwerveModuleAcceleration(acceleration=" + std::to_string(sma.acceleration()) + ", "
                                      "angle=" + std::to_string(sma.angle.Radians()()) + ")";
    })
  ;

  SetupWPyStruct<wpi::math::SwerveModuleAcceleration>(cls_SwerveModuleAcceleration);
