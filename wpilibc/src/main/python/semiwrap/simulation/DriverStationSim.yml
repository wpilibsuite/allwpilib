classes:
  wpi::sim::OpModeOptions:
    ignore: true
  wpi::sim::DriverStationSim:
    force_type_casters:
    - std::function
    - std::vector
    methods:
      RegisterEnabledCallback:
      GetEnabled:
      SetEnabled:
      RegisterEStopCallback:
      GetEStop:
      SetEStop:
      RegisterFmsAttachedCallback:
      GetFmsAttached:
      SetFmsAttached:
      RegisterDsAttachedCallback:
      GetDsAttached:
      SetDsAttached:
      RegisterAllianceStationIdCallback:
      GetAllianceStationId:
      SetAllianceStationId:
      RegisterMatchTimeCallback:
      GetMatchTime:
      SetMatchTime:
      NotifyNewData:
      SetSendError:
      SetSendConsoleLine:
      GetJoystickLeds:
      GetJoystickRumble:
      SetJoystickButton:
      SetJoystickAxis:
      SetJoystickPOV:
      SetJoystickGamepadType:
      SetJoystickSupportedOutputs:
      SetJoystickName:
      SetGameSpecificMessage:
      SetEventName:
      SetMatchType:
      SetMatchNumber:
      SetReplayNumber:
      ResetData:
      SetJoystickIsGamepad:
      SetJoystickAxesMaximumIndex:
      SetJoystickAxesAvailable:
      SetJoystickPOVsMaximumIndex:
      SetJoystickPOVsAvailable:
      SetJoystickButtonsMaximumIndex:
      SetJoystickButtonsAvailable:
      RegisterRobotModeCallback:
      GetRobotMode:
      SetRobotMode:
      RegisterOpModeCallback:
      GetOpMode:
      SetOpMode:
      RegisterOpModeOptionsCallback:
        ignore: true
      GetOpModeOptions:
        cpp_code: |
          []() {
            OpModeOptions rawOptions = DriverStationSim::GetOpModeOptions();
            std::vector<HAL_OpModeOption> options;

            for (auto opmode : rawOptions) {
              HAL_OpModeOption copy{
                .id = opmode.id,
                .name = wpi::util::copy_wpi_string(opmode.name),
                .group = wpi::util::copy_wpi_string(opmode.group),
                .description = wpi::util::copy_wpi_string(opmode.description),
                .textColor = opmode.textColor,
                .backgroundColor = opmode.backgroundColor,
              };

              options.push_back(copy);
            }

            return options;
          }
